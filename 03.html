<script>
    /*
    1. Criar uma função calcularMedia(nome) que retorna a média de um aluno.
    2. Criar uma função classificarAluno(nome) que retorna "Aprovado", "Recuperação" ou "Reprovado" com base na média.
    3. Criar uma função adicionarNota(nome, nota) para incluir mais notas ao aluno.
    4. Criar um menu interativo para buscar alunos, adicionar notas e verificar médias.
    */
    
    const alunos = [
        { nome: "Ana", notas: [7, 8, 9] },
        { nome: "Carlos", notas: [5, 6, 4] },
        { nome: "Bruna", notas: [9, 9, 10] }
    ];
    
    function calcularMedia(nome) {
        const aluno = alunos.find(a => a.nome.toLowerCase() === nome.toLowerCase());

        if (aluno) {
            const soma = aluno.notas.reduce((total, nota) => total + nota, 0);
            return soma / aluno.notas.length;
        }
         else {
            alert(`Aluno não encontrado`);
        }
    }
    
    function classificarAluno(nome) {
        const media = calcularMedia(nome);

        if (typeof media === "number") {
            if (media >= 7) {
                return "Aprovado";
            } else if (media >= 5) {
                return "Recuperação";
            } else {
                return "Reprovado";
            }
        } 
        else {
            return media;
        }
    }
    
    function adicionarNota(nome, nota) {
        const aluno = alunos.find(a => a.nome.toLowerCase() === nome.toLowerCase());

        if (aluno) {
            aluno.notas.push(nota);
            alert(`Nota adicionada com sucesso. Notas atuais de ${aluno.nome}: ${aluno.notas.join(", ")}`);
        } 
        else {
            alert(`Aluno não encontrado`);
        }
    }
    
    function menu() {
        let opcao;
        do {
            opcao = parseInt(prompt(
                "Escolha uma opção:\n" +
                "1. Calcular Média\n" +
                "2. Classificar Aluno\n" +
                "3. Adicionar Nota\n" +
                "0. Sair"
            ));
            
            switch (opcao) {
                case 1: {
                    const nomeMedia = prompt(" nome do aluno:");
                    const media = calcularMedia(nomeMedia);

                    if (typeof media === "number") {
                        alert(`Média de ${nomeMedia}: ${media}`);
                    } 
                    else {
                        alert(media);
                    }
                    break;
                }
                case 2: {
                    const nomeClassificar = prompt("Digite o nome do aluno:");
                    alert(`Classificação de ${nomeClassificar}: ${classificarAluno(nomeClassificar)}`);
                    break;
                }
                case 3: {
                    const nomeNota = prompt("Digite o nome do aluno:");
                    const nota = parseFloat(prompt("Digite a nota a adicionar:"));
                    alert(adicionarNota(nomeNota, nota));
                    break;
                }
                case 0:
                    alert("Saindo...");
                    break;
                default:
                    alert("Opção inválida");
            }
        } while (opcao !== 0);
    }
    
    menu();
</script>